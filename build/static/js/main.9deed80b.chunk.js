(this["webpackJsonpnana-frame"]=this["webpackJsonpnana-frame"]||[]).push([[0],{125:function(e,t){},203:function(e,t,n){e.exports=n(815)},419:function(e,t,n){},814:function(e,t,n){},815:function(e,t,n){"use strict";n.r(t);n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(75),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(249),n(250),n(251),n(253),n(254),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(318),n(319),n(320),n(321),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(162),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(165),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(414),n(172);var r=n(11),a=n.n(r),c=n(199),o=n.n(c),u=(n(419),n(35)),i=n.n(u),s=n(52),l=n(90),f=n(202),p=n(71),v=n.n(p),d=n(89),m={BUCKET:"nana-media",BUCKET_HREF:"https://nana-media.s3.amazonaws.com/",BUCKET_PREFIX:"uploads/",COGNITO_IDENTITY:"us-east-1:3a445c96-1f34-4459-b18c-91f99b16cbf4",REGION:"us-east-1"},E=m.BUCKET;v.a.config.region=m.REGION,m.COGNITO_IDENTITY&&(v.a.config.credentials=new v.a.CognitoIdentityCredentials({IdentityPoolId:m.COGNITO_IDENTITY}));var b=new v.a.S3({apiVersion:"2006-03-01",params:{Bucket:E}}),C=[],h=function(e){return e.map((function(e){return e.Contents})).filter((function(e){return!!e}))},O=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.Prefix,r=t.NextContinuationToken,t.IsTruncated&&r){e.next=5;break}return a=h(C),C=[],e.abrupt("return",a);case 5:return e.prev=6,e.next=9,b.listObjectsV2({Prefix:n,Bucket:E,ContinuationToken:r,MaxKeys:1e3}).promise();case 9:if((c=e.sent)&&c.Contents){e.next=14;break}return o=h(C),C=[],e.abrupt("return",o);case 14:return C.push(c),e.abrupt("return",O(c));case 19:return e.prev=19,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",h(C));case 23:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=m.BUCKET_PREFIX,e.next=4,b.listObjectsV2({Prefix:t,Bucket:E,MaxKeys:1e3}).promise();case 4:return n=e.sent,e.next=7,O(n);case 7:if(r=e.sent,n.Contents){e.next=10;break}throw new Error("Missing data.Contents!");case 10:return a=[n.Contents].concat(Object(f.a)(r)).flat(),c=Object(d.sortBy)(a.map((function(e){return e?"".concat(m.BUCKET_HREF).concat(e.Key):""})).filter((function(e){return""!==e&&e!=="".concat(m.BUCKET_HREF).concat(t)}))).reverse(),e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(0),console.error("There was an error viewing your bucket: "+e.t0.message),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();var w=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},I=n(200),T=n.n(I),g=n(201),k=n.n(g),x=(n(814),["#B53BA0","#55C2C0","#51B899","#558AC2","#5495AB","#5168B8","#79D8F7","#C3EAF7","#5775DE","#F7CF60","#92DEF7","#828EFA","#545CAB","#252B5E","#F7F560","#C3C9F7","#7986F7","#C3C9F7","#2235AD","#1A7BAD","#324DFA","#341DC4","#1D60C4","#5C1CBA","#BD07B6","#2335AD","#671DC4","#1D91C4","#1CBA90"]),j=k()(T.a),y=function(e){var t=e.photos,n=Object(r.useState)([]),c=Object(l.a)(n,2),o=c[0],u=c[1];return Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.length)!==(null===o||void 0===o?void 0:o.length)&&(u(void 0),setTimeout((function(){return u(t)}),100))}),[t,o]),(null===o||void 0===o?void 0:o.length)?a.a.createElement(j,{play:!0,cancelOnInteraction:!1,interval:5e3,fillParent:!0,buttons:!1},o.map((function(e){return a.a.createElement("div",{"data-src":e,style:{backgroundColor:Object(d.sample)(x)},key:e})}))):a.a.createElement(a.a.Fragment,null)},F=function(){return a.a.createElement("div",{className:"def-error"},"No pictures found yet.",a.a.createElement("br",null),a.a.createElement("br",null),"We love you Nana!")};var D=function(){var e=Object(r.useState)(void 0),t=Object(l.a)(e,2),n=t[0],c=t[1],o=1e3*1*60;return Object(r.useEffect)((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:(t=e.sent)&&c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),w((function(){(function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:(t=e.sent)&&c(t),console.log("Just checked for updates. Next update in ".concat(1," minute").concat("","."));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),o),a.a.createElement("div",null,a.a.createElement(y,{photos:n}),(!n||!n.length)&&a.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.9deed80b.chunk.js.map