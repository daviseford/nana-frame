(this["webpackJsonpnana-frame"]=this["webpackJsonpnana-frame"]||[]).push([[0],{125:function(e,n){},203:function(e,n,t){e.exports=t(815)},419:function(e,n,t){},814:function(e,n,t){},815:function(e,n,t){"use strict";t.r(n);t(204),t(205),t(206),t(207),t(208),t(209),t(210),t(211),t(212),t(213),t(214),t(215),t(216),t(217),t(218),t(219),t(220),t(221),t(222),t(223),t(224),t(225),t(226),t(227),t(228),t(229),t(230),t(231),t(75),t(232),t(233),t(234),t(235),t(236),t(237),t(238),t(239),t(240),t(241),t(242),t(243),t(244),t(245),t(246),t(247),t(249),t(250),t(251),t(253),t(254),t(256),t(257),t(258),t(259),t(260),t(261),t(262),t(263),t(264),t(265),t(266),t(267),t(268),t(269),t(271),t(272),t(273),t(274),t(275),t(276),t(277),t(278),t(279),t(280),t(281),t(282),t(284),t(285),t(286),t(287),t(288),t(289),t(290),t(291),t(292),t(293),t(294),t(295),t(296),t(297),t(298),t(299),t(300),t(301),t(302),t(303),t(304),t(305),t(306),t(307),t(308),t(309),t(310),t(311),t(312),t(313),t(314),t(315),t(316),t(318),t(319),t(320),t(321),t(324),t(325),t(326),t(327),t(328),t(329),t(330),t(331),t(332),t(333),t(334),t(335),t(336),t(337),t(162),t(338),t(339),t(340),t(341),t(342),t(343),t(344),t(165),t(345),t(346),t(347),t(348),t(349),t(350),t(351),t(352),t(353),t(354),t(355),t(356),t(357),t(358),t(359),t(360),t(361),t(362),t(363),t(364),t(365),t(366),t(367),t(368),t(369),t(370),t(372),t(373),t(374),t(375),t(376),t(377),t(378),t(379),t(380),t(381),t(382),t(383),t(384),t(385),t(386),t(387),t(388),t(389),t(390),t(391),t(392),t(393),t(394),t(395),t(396),t(397),t(398),t(399),t(400),t(401),t(402),t(403),t(404),t(405),t(406),t(407),t(408),t(409),t(410),t(411),t(414),t(172);var r=t(11),a=t.n(r),c=t(199),o=t.n(c),u=(t(419),t(35)),s=t.n(u),i=t(52),l=t(90),f=t(202),p=t(71),v=t.n(p),m=t(89),E={BUCKET:"nanaimages",BUCKET_HREF:"https://nanaimages.s3.amazonaws.com/",BUCKET_PREFIX:"processed/",COGNITO_IDENTITY:"us-east-1:3a445c96-1f34-4459-b18c-91f99b16cbf4",REGION:"us-east-1"};console.log("ENV",E);var d=E,b=d.BUCKET;v.a.config.region=d.REGION,v.a.config.credentials=new v.a.CognitoIdentityCredentials({IdentityPoolId:d.COGNITO_IDENTITY});var C=new v.a.S3({apiVersion:"2006-03-01",params:{Bucket:b}}),h=[],B=function(e){return e.map((function(e){return e.Contents})).filter((function(e){return!!e}))},O=function(){var e=Object(i.a)(s.a.mark((function e(n){var t,r,a,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.Prefix,r=n.NextContinuationToken,n.IsTruncated&&r){e.next=5;break}return a=B(h),h=[],e.abrupt("return",a);case 5:return e.prev=5,e.next=8,C.listObjectsV2({Prefix:t,Bucket:b,ContinuationToken:r,MaxKeys:1e3}).promise();case 8:if((c=e.sent)&&c.Contents){e.next=13;break}return o=B(h),h=[],e.abrupt("return",o);case 13:return h.push(c),e.abrupt("return",O(c));case 17:return e.prev=17,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",B(h));case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(n){return e.apply(this,arguments)}}(),g=function(){var e=Object(i.a)(s.a.mark((function e(){var n,t,r,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=d.BUCKET_PREFIX,e.next=4,C.listObjectsV2({Prefix:n,Bucket:b,MaxKeys:1e3}).promise();case 4:return t=e.sent,e.next=7,O(t);case 7:if(r=e.sent,t.Contents){e.next=10;break}throw new Error("Missing data.Contents!");case 10:return a=[t.Contents].concat(Object(f.a)(r)).flat(),c=Object(m.sortBy)(a.map((function(e){return e?"".concat(d.BUCKET_HREF).concat(e.Key):""})).filter((function(e){return""!==e&&e!=="".concat(d.BUCKET_HREF).concat(n)}))).reverse(),e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(0),console.error("There was an error viewing your bucket: "+e.t0.message),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();var w=function(e,n){var t=Object(r.useRef)();Object(r.useEffect)((function(){t.current=e}),[e]),Object(r.useEffect)((function(){if(null!==n){var e=setInterval((function(){t.current()}),n);return function(){return clearInterval(e)}}}),[n])},k=t(200),x=t.n(k),j=t(201),y=t.n(j),F=(t(814),["#B53BA0","#55C2C0","#51B899","#558AC2","#5495AB","#5168B8","#79D8F7","#C3EAF7","#5775DE","#F7CF60","#92DEF7","#828EFA","#545CAB","#252B5E","#F7F560","#C3C9F7","#7986F7","#C3C9F7","#2235AD","#1A7BAD","#324DFA","#341DC4","#1D60C4","#5C1CBA","#BD07B6","#2335AD","#671DC4","#1D91C4","#1CBA90"]),I=y()(x.a),T=function(e){var n=e.photos,t=Object(r.useState)([]),c=Object(l.a)(t,2),o=c[0],u=c[1];return Object(r.useEffect)((function(){(null===n||void 0===n?void 0:n.length)!==(null===o||void 0===o?void 0:o.length)&&(u(void 0),setTimeout((function(){return u(n)}),100))}),[n,o]),(null===o||void 0===o?void 0:o.length)?a.a.createElement(I,{play:!0,cancelOnInteraction:!1,interval:5e3,fillParent:!0,buttons:!1},o.map((function(e){return a.a.createElement("div",{"data-src":e,style:{backgroundColor:Object(m.sample)(F)},key:e})}))):a.a.createElement(a.a.Fragment,null)},D=function(){return a.a.createElement("div",{className:"def-error"},"No pictures found yet.",a.a.createElement("br",null),a.a.createElement("br",null),"We love you Nana!")};var A=function(){var e=Object(r.useState)(void 0),n=Object(l.a)(e,2),t=n[0],c=n[1],o=1e3*1*60;return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:(n=e.sent)&&c(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),w((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:(n=e.sent)&&c(n),console.log("Just checked for updates. Next update in ".concat(1," minute").concat("","."));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),o),a.a.createElement("div",null,a.a.createElement(T,{photos:t}),(!t||!t.length)&&a.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.3e8b219f.chunk.js.map