(this["webpackJsonpnana-frame"]=this["webpackJsonpnana-frame"]||[]).push([[0],{126:function(e,t){},128:function(e,t,n){},205:function(e,t,n){e.exports=n(816)},815:function(e,t,n){},816:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),c=n(201),u=n.n(c),o=(n(128),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(78),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(255),n(256),n(257),n(259),n(260),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(324),n(325),n(326),n(327),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(165),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(168),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(420),n(175),n(17)),s=n.n(o),i=n(36),f=n(50),l=n(55),p=n(204),v=n(74),b=n.n(v),m=n(54),d="nana-media";b.a.config.region="us-east-1",b.a.config.credentials=new b.a.CognitoIdentityCredentials({IdentityPoolId:"us-east-1:3a445c96-1f34-4459-b18c-91f99b16cbf4"});var j=new b.a.S3({apiVersion:"2006-03-01",params:{Bucket:d}}),h=[],O=function(e){return e.map((function(e){return e.Contents})).filter((function(e){return!!e}))},w=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.Prefix,r=t.NextContinuationToken,t.IsTruncated&&r){e.next=3;break}return e.abrupt("return",O(h));case 3:return e.prev=3,e.next=6,j.listObjectsV2({Prefix:n,Bucket:d,ContinuationToken:r}).promise();case 6:if((a=e.sent)&&a.Contents){e.next=9;break}return e.abrupt("return",O(h));case 9:return h.push(a),e.abrupt("return",w(a));case 13:return e.prev=13,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",O(h));case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r,a,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://nana-media.s3.amazonaws.com/",e.prev=1,e.next=4,j.listObjectsV2({Prefix:t,Bucket:d,MaxKeys:1e3}).promise();case 4:return r=e.sent,e.next=7,w(r);case 7:if(a=e.sent,r.Contents){e.next=10;break}throw new Error;case 10:return c=[r.Contents].concat(Object(p.a)(a)).flat(),u=Object(m.sortBy)(c.map((function(e){return e?n+e.Key:""})).filter((function(e){return""!==e&&e!==n+t}))).reverse(),e.abrupt("return",u);case 15:return e.prev=15,e.t0=e.catch(1),console.error("There was an error viewing your bucket: "+e.t0.message),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"json/",e.prev=1,e.next=4,j.getObject({Key:"json/"+t,Bucket:d}).promise();case 4:return n=e.sent,e.abrupt("return",Object(l.a)(Object(l.a)({},JSON.parse(n.Body)),{},{key:t}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",console.error("There was an error viewing your bucket: "+e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();var y=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},x=n(202),E=n.n(x),g=n(203),B=n.n(g),A=(n(815),["#B53BA0","#55C2C0","#51B899","#558AC2","#5495AB","#5168B8","#79D8F7","#C3EAF7","#5775DE","#F7CF60","#92DEF7","#828EFA","#545CAB","#252B5E","#F7F560","#C3C9F7","#7986F7","#C3C9F7","#2235AD","#1A7BAD","#324DFA","#341DC4","#1D60C4","#5C1CBA","#BD07B6","#2335AD","#671DC4","#1D91C4","#1CBA90"]),F=B()(E.a),D=function(e){var t=e.photos,n=Object(r.useState)([]),c=Object(f.a)(n,2),u=c[0],o=c[1];return Object(r.useEffect)((function(){(null===t||void 0===t?void 0:t.length)!==(null===u||void 0===u?void 0:u.length)&&(o(void 0),setTimeout((function(){return o(t)}),100))}),[t,u]),(null===u||void 0===u?void 0:u.length)?a.a.createElement(F,{play:!0,cancelOnInteraction:!1,interval:5e3,fillParent:!0,buttons:!1},u.map((function(e){return a.a.createElement("div",{"data-src":e,style:{backgroundColor:Object(m.sample)(A)},key:e})}))):a.a.createElement(a.a.Fragment,null)},I=function(){return a.a.createElement("div",{className:"def-error"},"No pictures found yet.",a.a.createElement("br",null),a.a.createElement("br",null),"We love you Nana!")};var S=function(){var e=Object(r.useState)(void 0),t=Object(f.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("uploads/");case 2:(t=e.sent)&&c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),y((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("uploads/");case 2:(t=e.sent)&&c(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),1e3*.1*60),a.a.createElement("div",null,a.a.createElement(D,{photos:n||[]}),(!n||!n.length)&&a.a.createElement(I,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a.a.createContext(void 0),T=function(e){var t=e.children,n=Object(r.useState)({}),c=Object(f.a)(n,2),u=c[0],o=c[1],p=Object(r.useState)({}),v=Object(f.a)(p,2),b=v[0],d=v[1],j=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("json/");case 2:(t=e.sent)&&("https://nana-media.s3.amazonaws.com/json/",n=t.reduce((function(e,t){return e[t.replace("https://nana-media.s3.amazonaws.com/json/","").replace(".json","")]=t,e}),{}),o(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j()}),[]),Object(r.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Object(m.difference)(Object.keys(u),Object.keys(b))).length){e.next=3;break}return e.abrupt("return");case 3:return n=t.map((function(e){return C(e+".json")})),e.next=6,Promise.allSettled(n);case 6:r=e.sent.filter((function(e){return"fulfilled"===e.status})).map((function(e){return e.value})),a=r.reduce((function(e,t){return e[t.key.replace(".json","")]=t,e}),{}),d((function(e){return Object(l.a)(Object(l.a)({},e),a)}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u,b]),a.a.createElement(P.Provider,{value:{captions:b,urls:u,updateCaptionUrls:j}},t)};u.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(T,null,a.a.createElement(S,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[205,1,2]]]);
//# sourceMappingURL=main.a4757824.chunk.js.map